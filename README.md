# 地理院タイルダウンロードツール

[mokuroku](https://github.com/gsi-cyberjapan/mokuroku-spec)、および[nippo](https://github.com/gsi-cyberjapan/nippo-spec)を元に地理院タイルをダウンロードするツールです。

このツールを使うことで、タイルを最新に保つことができます。

## 使い方

[導入手順書及び使用マニュアル.pdf](https://github.com/gsi-cyberjapan/tdlmn/blob/main/docs/%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86%E6%9B%B8%E5%8F%8A%E3%81%B3%E4%BD%BF%E7%94%A8%E3%83%9E%E3%83%8B%E3%83%A5%E3%82%A2%E3%83%AB.pdf)をご覧ください。Windows10での動作を想定しています。

サーバに過度な負担をかけないようにするために、基本的に、既存のファイルのMD5SUMと比較してからダウンロードする`-diff`オプションを使用してタイルをダウンロードするようにしてください。
ダウンロード完了までに要する時間も`-diff`オプションを使用した方が早い場合が多いです。

プログラム一式は、このレポジトリの「src」ディレクトリに入っています。

### 例

1. （初回のみ）mokuroku と前月1 日～今日のnippo をダウンロードして合成し、それを元に全てのタイルをダウンロードする。

※大量のデータをダウンロードするため、時間がかかります。ご注意ください。

```
ruby tdlmn.rb -mn -dt -merge
```

2. （毎日）今日のnippo ファイルをダウンロードし、それを元に更新タイルのみをダウンロードする。

```
ruby tdlmn.rb -nt -dt -diff
```

## 注意事項

*	本ツールは、実験的に提供しているものです。
*	本ツールの動作保証は行っておりません。
*	本ツールは、予告なく変更・削除する可能性があります。
*	本ツールの利用により生じた損失及び損害等について、国土地理院はいかなる責任も負わないものとします。

